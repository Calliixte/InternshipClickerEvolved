<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn</title>
    <link rel="icon" href="https://static.licdn.com/aero-v1/sc/h/5bukxbhy9xsil5mb7c2wulfbx">
    <link href="./style/style.css" rel="stylesheet" />
    <link href="./style/giganticButtonsStyle.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap');
    </style>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js" defer></script>
    <script src="./scripts/main.js" defer></script> 
    <!-- defer forces the browser to load the file as soon as it encounters it, eliminating the need to put the script tags at the end of the body,
     i'd rather use that in order to keep the code cleaner -->
</head>

<body>
    <div id="app">
        <div v-if="appTexts">
            <div class="top-row">

                <!-- Bouton dark mode  -->
                <button class="BTNSettings" id="DMSwitch" @click="changeTheme">
                    <span v-if="darkMode"><?xml version="1.0" encoding="utf-8"?>
    
                        <!-- svg lune  -->
                        <svg fill='White' height="40px" width="40px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 6V3M18.5 12V7M14.5 4.5H11.5M21 9.5H16M15.5548 16.8151C16.7829 16.8151 17.9493 16.5506 19 16.0754C17.6867 18.9794 14.7642 21 11.3698 21C6.74731 21 3 17.2527 3 12.6302C3 9.23576 5.02061 6.31331 7.92462 5C7.44944 6.05072 7.18492 7.21708 7.18492 8.44523C7.18492 13.0678 10.9322 16.8151 15.5548 16.8151Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg> </span>
                    <span v-else><?xml version="1.0" encoding="utf-8"?>
    
                        <!-- svg soleil -->
                        <svg viewBox="0 0 24 24" fill="#303234" height="40px" width="40px" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg></span>
                </button>

                <!-- Bouton paramètres  -->
                <button class="BTNSettings" @click="showSettings">
                    <!-- SVG de la roue des parametres -->
                    <?xml version="1.0" encoding="iso-8859-1"?>
                        <svg :fill="darkMode ? 'Black' : 'White'" height="40px" width="40px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                            viewBox="0 0 512 512" xml:space="preserve">
                        <g>
                            <g>
                                <path d="M451.528,198.531c-4.088-13.938-9.657-27.369-16.645-40.14l42.774-42.773l-81.273-81.274l-42.774,42.773
                                    c-12.771-6.987-26.201-12.557-40.14-16.644V0H198.531v60.472c-13.939,4.088-27.369,9.657-40.14,16.644l-42.774-42.773
                                    l-81.273,81.274l42.774,42.773c-6.988,12.771-12.558,26.202-16.645,40.14H0v114.939h60.472
                                    c4.088,13.938,9.657,27.369,16.645,40.14l-42.774,42.773l81.273,81.274l42.774-42.773c12.771,6.987,26.201,12.557,40.14,16.644
                                    V512h114.939v-60.472c13.939-4.088,27.369-9.657,40.14-16.644l42.774,42.773l81.273-81.274l-42.774-42.773
                                    c6.988-12.771,12.558-26.202,16.645-40.14H512v0V198.531H451.528z M480.653,282.122h-53.755l-2.769,12.204
                                    c-4.301,18.952-11.756,36.932-22.158,53.441l-6.672,10.589l38.026,38.025l-36.942,36.942l-38.027-38.026l-10.589,6.672
                                    c-16.507,10.402-34.487,17.856-53.44,22.157l-12.204,2.771v53.755h-52.245v-53.755l-12.205-2.77
                                    c-18.953-4.301-36.933-11.755-53.44-22.157l-10.589-6.672l-38.027,38.026l-36.941-36.943l38.027-38.026l-6.672-10.589
                                    c-10.402-16.508-17.857-34.489-22.158-53.441l-2.77-12.203H31.347v-52.245h53.755l2.769-12.204
                                    c4.301-18.952,11.756-36.932,22.158-53.441l6.672-10.589l-38.026-38.025l36.942-36.942l38.027,38.026l10.589-6.672
                                    c16.507-10.402,34.487-17.856,53.44-22.157l12.204-2.771V31.347h52.245v53.755l12.205,2.77
                                    c18.953,4.301,36.933,11.755,53.44,22.157l10.589,6.672l38.027-38.026l36.942,36.942L395.3,153.643l6.672,10.589
                                    c10.402,16.508,17.857,34.489,22.158,53.441l2.769,12.204h53.755V282.122z"/>
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M256,135.837c-66.258,0-120.163,53.905-120.163,120.163c0,66.258,53.905,120.163,120.163,120.163
                                    c66.258,0,120.163-53.905,120.163-120.163S322.258,135.837,256,135.837z M256,344.816c-48.973,0-88.816-39.843-88.816-88.816
                                    s39.843-88.816,88.816-88.816s88.816,39.843,88.816,88.816S304.973,344.816,256,344.816z"/>
                            </g>
                        </g>
                        </svg>
                </button>
            </div>


            <h1 class="text">{{appTexts["title"][currentLanguage]}}</h1>

            <h3 class="text">{{appTexts["ratePerClick"][currentLanguage]}}: {{clickPower}} | {{appTexts["ratePassive"][currentLanguage]}}: {{passiveCv}}</h3>

            <div id="counter">
                <h2 id="count" >{{Cv}}</h2>
                <h2 class="text" style="align-self: center;">{{appTexts["pendingApplications"][currentLanguage]}}</h2>
            </div>

            <button id="mainButton" @click="increment">
                <img style="max-width: 3vw" src="./externalFiles/linkedin-svgrepo-com.svg">
                <span>{{appTexts["mainButton"][currentLanguage]}}</span>
            </button>

            <button class="switchButton" class="button" @click="showUpgrades">{{upgradesShown ? appTexts["hideUpgrades"][currentLanguage] : appTexts["showUpgrades"][currentLanguage]}}</button>

            <div id="upgradeList" v-show="upgradesShown"> 
                <div class="upgrade" v-for="(up,index) in upgrades" :key="index">
                    <div v-if="upgrades[index].cost!=-1">
                        <h3 class="text">{{upgrades[index]["title_"+currentLanguage]}}</h3>
                        <p class="text">{{upgrades[index]["subtitle_"+currentLanguage]}}</p>
                        <p class="text">{{upgrades[index]["effect_description_"+currentLanguage]}}</p>
                        <p class="text" v-if="AMOUNT_UNLOCK-upgrades[index].amountBought>0">{{appTexts["amountNext"][currentLanguage]}} : {{AMOUNT_UNLOCK-upgrades[index].amountBought}}</p>
                        <button class="clickButton" class="button" @mouseenter="(event) => checkCost(index,event)" @click="processUpgrade(index)">{{appTexts["upgrade"][currentLanguage]}} ({{appTexts["rejectedOn"][currentLanguage]}} {{upgrades[index].cost}} {{appTexts["applications"][currentLanguage]}})</button>
                    </div>
                </div>
            </div>

            <div v-else>
                <p class="text" v-show="!upgradesShown">{{appTexts["noUShown"][currentLanguage]}}</p>
            </div>
    
            <!-- settings popup code  -->
            <div v-show="settingsShown" class="popup-light popup" id="popup">
                <div class="BTNClose">
                    <button @click="showSettings">
                        <img src="./externalFiles/close.svg" alt="leave">
                    </button>
                </div>
    
                <!-- leaderboard code  -->
                <div v-if="leaderboard !=null">
                    <h3 class="text">{{appTexts["leaderboardTopFive"][currentLanguage]}}</h3>
                    <table>
                        <tbody>
                            <tr v-for="(lb,index) in leaderboard">
                                <td :style="{ 'background-color': getRankColor(index) }" class="text">
                                {{ leaderboard[index].user_name }}
                                </td>
                                <td class="text">{{leaderboard[index].score}}</td>
                            </tr>
                        </tbody>
                    </table>
    
                    <label for="name" class="text">{{appTexts["username"][currentLanguage]}}</label>
                    <input id="name" type="text" v-model="username">
                    <button class="clickButton" @click="submitScore" class="text">{{appTexts["submitScore"][currentLanguage]}}</button>
                </div>

                <!-- language picker -->
                <div>
                    <h3 class="text">{{appTexts["language"][currentLanguage]}}</h3>
                    <label for="language" class="text">{{appTexts["pickLanguage"][currentLanguage]}}</label>

                    <select class="clickButton" v-model="currentLanguage" name="langugage" id="language">
                    <option value="fr">Français</option>
                    <option value="en">English</option>
                    <option value="emojis">✅</option>
                    </select>
                </div>

            </div>
            <footer class="footer-light">
                <!-- s'il y avait plusieurs pages j'aurais fait un footer en php et je l'aurais include à chaque fois mais bon  -->
                <p class="text">A. Baco</p>
                <p class="text">alistair.baco@ensiie.eu</p>
            </footer>
        </div>
    </div>
</body>
</html>